if (incomingChar >= '0' && incomingChar <= '9') {
    // если пришёл символ-цифра, добавляем его к сообщению
    message += incomingChar;
} else if (incomingChar == '\n') {
    // если пришёл символ новой строки, т.е. enter, переводим
    // накопленное сообщение в целое число (англ. to integer).
    // Так последовательность символов '1', '2', '3' станет
    // числом 123.
    int numericValue = message.toInt();
    
    // Проверяем, находится ли числовое значение в допустимом диапазоне (0-255)
    if (numericValue >= 0 && numericValue <= 255) {
        analogWrite(LED_PIN, numericValue);
    } else {
        // Отправляем сообщение об ошибке на компьютер
        Serial.println("Ошибка: число должно быть в диапазоне от 0 до 255.");
    }

    // обнуляем накопленное сообщение, чтобы начать всё заново
    message = "";
}
